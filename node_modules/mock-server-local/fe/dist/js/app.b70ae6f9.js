(function(t){function e(e){for(var r,c,o=e[0],i=e[1],u=e[2],h=0,p=[];h<o.length;h++)c=o[h],s[c]&&p.push(s[c][0]),s[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var i=n[o];0!==s[i]&&(r=!1)}r&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},s={app:0},a=[];function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/fe/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=i;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"00ca":function(t,e,n){},"1ea9":function(t,e,n){},"31fb":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"app"},[n("el-header",{staticClass:"app-header"},[n("p",[t._v("Mock Server")]),n("div",{staticClass:"links"},[n("a",{attrs:{href:"https://github.com/funkyLover/mock-server",target:"_blank"}},[t._v("GitHub")]),n("a",{attrs:{href:"https://github.com/funkyLover/mock-server/blob/master/README.md",target:"_blank"}},[t._v("Docs")])])]),n("el-container",[n("el-aside",{staticClass:"app-menu",attrs:{width:"20%"}},[n("el-menu",{staticClass:"menu",attrs:{router:!0,"default-active":t.$route.path}},[n("el-menu-item",{attrs:{index:"/mocks"}},[t._v("Mock data")]),n("el-menu-item",{attrs:{index:"/sets"}},[t._v("Mock set")]),n("el-menu-item",{attrs:{index:"/proxys"}},[t._v("Proxy config")])],1)],1),n("el-main",{staticClass:"app-content"},[n("router-view")],1)],1)],1)},a=[],c=(n("96cf"),n("3b8d")),o={name:"app",components:{},mounted:function(){this.reqestMock()},methods:{reqestMock:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,n,r,s,a,c,o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$req,n=this.$awaitTo,r=e({url:"/$mock",autoError:!1}),t.next=4,n(r);case 4:s=t.sent,a=s.data,c=s.err,a&&(this.error=!1,this.$store.commit("updateMock",a)),c&&!this.error&&(this.error=!0,this.$message.error("[".concat(c.code,"]").concat(c.msg))),this.$requestId=setTimeout(function(){o.reqestMock()},1500);case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},i=o,u=(n("5c0b"),n("2877")),l=Object(u["a"])(i,s,a,!1,null,null,null),h=l.exports,p=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-mock"},[t.isEmpty?t._e():n("div",[n("el-input",{staticClass:"search",attrs:{placeholder:"url to search","prefix-icon":"el-icon-search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.isMockEmpty?n("el-collapse",t._l(t.matchMocks,function(e,r){return n("el-collapse-item",{key:r},[n("template",{slot:"title"},[n("el-checkbox",{staticClass:"title-check",attrs:{value:t.isTitleChecked(r),disabled:t.isTitleCheckDisable(r)},on:{click:function(t){t.stopPropagation()},change:function(e){return t.bindTitleCheck(r)}}}),n("mk-highlight",{staticClass:"title",attrs:{str:t.search}},[t._v(t._s(r))]),n("el-button",{staticClass:"btn",attrs:{size:"mini"},on:{click:function(e){return e.stopPropagation(),t.bindVerify(e,r)}}},[t._v("verify")]),n("copy-btn",{staticClass:"btn last",attrs:{content:r,size:"mini",type:"primary"},on:{success:function(e){return t.$message.success("copy url: "+r)},error:function(e){return t.$message.error("error occurred")}},nativeOn:{click:function(t){t.stopPropagation()}}},[t._v("copy")])],1),t._l(e,function(e,s){return n("div",{key:e.label},[n("el-checkbox",{attrs:{value:t.mockChecked[r]===s},on:{change:function(e){return t.bindCheckItem(r,s)}}},[t._v(t._s(e.label))])],1)})],2)}),1):n("div",{staticClass:"tips"},[t._v("no api match `"+t._s(this.search)+"`")])],1),t.isEmpty?n("div",{staticClass:"tips"},[t._v("\n    No data yet, want\n    "),n("el-button",{attrs:{type:"text"},on:{click:t.bindGenerate}},[t._v("generate with template")]),t._v("?\n  ")],1):t._e()])},f=[],m=(n("6762"),n("2fdb"),n("ac6a"),n("386d"),n("a4bb")),k=n.n(m),v=n("cebc"),b=n("2f62"),y={name:"Page-Mock",data:function(){var t="".concat(window.location.protocol,"//").concat(window.location.host);return{search:"",base:t}},computed:Object(v["a"])({},Object(b["b"])(["mocks","mockChecked"]),{isEmpty:function(){return _.isEmpty(this.mocks)},isMockEmpty:function(){return 0!==k()(this.matchMocks).length},matchMocks:function(){var t=this;if(!this.search||0===this.search.length)return this.mocks;var e={};return k()(this.mocks).forEach(function(n){n.includes(t.search)&&(e[n]=t.mocks[n])}),e}}),methods:{bindGenerate:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,n,r,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$req,n=this.$awaitTo,r=e({url:"/$create"}),t.next=4,n(r);case 4:if(s=t.sent,a=s.err,!a){t.next=8;break}return t.abrupt("return");case 8:this.$message.success("success");case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),reqestMockCheck:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e,n){var r,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=this.$req,s=this.$awaitTo,a=r({url:"/$mock-check",data:{id:e,index:n}}),t.next=4,s(a);case 4:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}(),bindCheckItem:function(t,e){switch(console.log(this.mockChecked[t]),this.mockChecked[t]){case void 0:break;case e:e=-1;break}this.$store.commit("mockChecked",{key:t,index:e}),this.reqestMockCheck(t,e)},bindVerify:function(t,e){var n="".concat(this.base,"/$mock-api?api=").concat(e);window.open(n,"_blank")},isTitleCheckDisable:function(t){var e=this.mocks[t],n=this.mockChecked[t];return 1!==e.length&&(-1===n||!n&&0!==n)},isTitleChecked:function(t){var e=this.mockChecked[t];return!(-1===e||!e&&0!==e)},bindTitleCheck:function(t){var e=this.mocks[t],n=this.mockChecked[t];if(1===e.length)return this.bindCheckItem(t,0);-1===n||!n&&0!==n||this.bindCheckItem(t,n)}}},g=y,C=(n("8bf5"),Object(u["a"])(g,d,f,!1,null,null,null)),w=C.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-set"},[t.isEmpty?t._e():n("el-collapse",t._l(t.sets,function(e,r){return n("el-collapse-item",{key:r,staticClass:"sets"},[n("template",{slot:"title"},[n("el-checkbox",{staticClass:"set-check",attrs:{value:t.setChecked===r},on:{change:function(e){return t.bindCheckItem(r)}}}),t._v(t._s(r)+"\n      ")],1),t._l(e,function(e,r){return n("div",{key:r},[n("el-collapse",{staticClass:"api-details",attrs:{accordion:""}},[n("el-collapse-item",[n("template",{slot:"title"},[t._v("\n              "+t._s(r)+"\n            ")]),n("p",{staticClass:"details"},[n("span",[t._v("data")]),t._v(": "+t._s(e.data))]),n("p",{staticClass:"details"},[n("span",[t._v("http header")]),t._v(": "+t._s(e.header))]),n("p",{staticClass:"details"},[n("span",[t._v("http status")]),t._v(": "+t._s(e.status))]),n("p",{staticClass:"details"},[n("span",[t._v("time cost")]),t._v(": "+t._s(e.delay)+"s")])],2)],1)],1)})],2)}),1),t.isEmpty?n("div",{staticClass:"tips"},[t._v("\n    No set data yet, want\n    "),n("el-button",{attrs:{type:"text"},on:{click:t.bindGenerate}},[t._v("generate with template")]),t._v("?\n  ")],1):t._e()],1)},$=[],j={name:"Page-Set",data:function(){return{}},computed:Object(v["a"])({},Object(b["b"])(["sets","setChecked"]),{isEmpty:function(){return _.isEmpty(this.sets)}}),methods:{bindGenerate:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,n,r,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$req,n=this.$awaitTo,r=e({url:"/$create",data:{type:"set"},loading:!0}),t.next=4,n(r);case 4:if(s=t.sent,a=s.err,!a){t.next=8;break}return t.abrupt("return");case 8:this.$message.success("success");case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),reqestSetCheck:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var n,r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=this.$req,r=this.$awaitTo,s=n({url:"/$set-check",data:{id:e}}),t.next=4,r(s);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),bindCheckItem:function(t){switch(this.setChecked){case null:break;case t:t=-1;break;default:break}this.$store.commit("setChecked",{id:t}),this.reqestSetCheck(t)}}},O=j,E=(n("c2a4"),Object(u["a"])(O,x,$,!1,null,null,null)),M=E.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-proxy"},[0!==t.proxyConfig.length?n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.proxyConfig}},[n("el-table-column",{attrs:{prop:"host",label:"Host","min-width":"200"}}),n("el-table-column",{attrs:{prop:"target",label:"Target","min-width":"200"}})],1):n("div",{staticClass:"tips"},[t._v("\n    No proxy config yet, want\n    "),n("el-button",{attrs:{type:"text"},on:{click:t.bindGenerate}},[t._v("generate with template")]),t._v("?\n  ")],1)],1)},T=[],S={name:"Page-Proxy",data:function(){return{}},computed:Object(v["a"])({},Object(b["b"])(["proxy"]),{proxyConfig:function(){var t=this.proxy;return console.log(t),_.isEmpty(t)?[]:k()(t).map(function(e){return{host:e,target:t[e]}})}}),methods:{bindGenerate:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,n,r,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$req,n=this.$awaitTo,r=e({url:"/$create",data:{type:"proxy"},loading:!0}),t.next=4,n(r);case 4:if(s=t.sent,a=s.err,!a){t.next=8;break}return t.abrupt("return");case 8:this.$message.success("success");case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},P=S,R=(n("a0cf"),Object(u["a"])(P,q,T,!1,null,null,null)),G=R.exports;r["default"].use(p["a"]);var I=new p["a"]({mode:"history",base:"view",routes:[{path:"/mocks",name:"mocks",component:w},{path:"/sets",name:"sets",component:M},{path:"/proxys",name:"proxys",component:G}]}),z=n("2ef0"),D=n.n(z);r["default"].use(b["a"]);var H=new b["a"].Store({state:{mocks:{},mockChecked:{},sets:{},setChecked:null,proxy:{}},mutations:{updateMock:function(t,e){t.mocks=D.a.omit(e.mock,["_set","_proxy"]),t.sets=e.mock._set,t.proxy=e.mock._proxy,t.mockChecked=e.mockChecked,t.setChecked=e.setChecked},mockChecked:function(t,e){var n=e.key,r=e.index;t.mockChecked[n]=r},setChecked:function(t,e){var n=e.id;t.setChecked=n}},actions:{}}),N=n("795b"),J=n.n(N);r["default"].prototype.$awaitTo=function(t){return t.then(function(t){return J.a.resolve({data:t,err:null})},function(t){return J.a.resolve({err:t,data:null})})},r["default"].prototype.$delay=function(t){return new J.a(function(e,n){setTimeout(function(){e()},1e3*t)})};var L=n("5c96"),V=n.n(L),A=(n("c69f"),n("b2d6")),B=n.n(A);r["default"].use(V.a,{locale:B.a});var F=n("a8db"),K=n("7338"),Q=n.n(K),U={loading:!1,autoError:!0};function W(t){r["default"].prototype.$message.error("[".concat(t.code,"]").concat(t.msg))}r["default"].prototype.$req=function(t){var e=t.url,n=t.method,s=void 0===n?"get":n,a=t.data,c=void 0===a?{}:a,o=Object(F["a"])(t,["url","method","data"]),i={};i.method=s,i.url=e,"get"===s&&c?i.params=c:i.data=c;var u=Object(v["a"])({},U,o),l=u.loading&&r["default"].prototype.$loading();return Q()(i).then(function(t){if(l&&l.close(),200!==t.status){var e={code:t.status,msg:"request error"};return u.autoError&&W(e),J.a.reject(e)}return t.data},function(t){l&&l.close();var e=t.response,n=t.request,r={code:"-3",msg:t.message};return e?r={code:e.status,msg:"request error"}:n&&(r={code:"-2",msg:"network error"}),u.autoError&&W(r),J.a.reject(r)})};n("28a5");var X,Y,Z={name:"Comps-Highlight",props:{str:{type:String,default:""}},render:function(t){var e=this,n=this.$slots.default[0].text;if(!this.str||0===this.str.length)return t("div",n);var r=n.split(this.str),s=r.length,a=[];return r.forEach(function(n,r){a.push(n),r!==s-1&&a.push(t("span",e.str))}),t("div",a)}},tt=Z,et=(n("636a"),Object(u["a"])(tt,X,Y,!1,null,"591761c2",null)),nt=et.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-button",{staticClass:"btn-copy",attrs:{size:t.size,type:t.type}},[t._t("default")],2)},st=[],at=n("b311"),ct=n.n(at),ot={name:"Comps-CopyBtn",props:{content:{type:String,required:!0},size:{type:String,default:"small"},type:{type:String,default:""}},data:function(){return{cb:null}},mounted:function(){this.setupClipboard()},beforeDestroy:function(){this.cb&&this.cb.destroy()},methods:{setupClipboard:function(){var t=this;this.cb=new ct.a(this.$el,{text:function(e){return t.content}}),this.cb.on("success",function(e){e.clearSelection(),t.$emit("success")}),this.cb.on("error",function(e){console.error(e),t.$emit("error")})}}},it=ot,ut=Object(u["a"])(it,rt,st,!1,null,null,null),lt=ut.exports;r["default"].component("mk-highlight",nt),r["default"].component("copy-btn",lt);n("f5df");r["default"].config.productionTip=!1,new r["default"]({router:I,store:H,render:function(t){return t(h)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var r=n("5e27"),s=n.n(r);s.a},"5e27":function(t,e,n){},"636a":function(t,e,n){"use strict";var r=n("1ea9"),s=n.n(r);s.a},"8bf5":function(t,e,n){"use strict";var r=n("00ca"),s=n.n(r);s.a},9422:function(t,e,n){},a0cf:function(t,e,n){"use strict";var r=n("31fb"),s=n.n(r);s.a},c2a4:function(t,e,n){"use strict";var r=n("9422"),s=n.n(r);s.a},c69f:function(t,e,n){}});
//# sourceMappingURL=app.b70ae6f9.js.map